ant.properties['version'] = version
ant.properties['build.timestamp'] = buildTimeStamp

if (versionQualifier)
{
	ant.properties['context.qualifier'] = versionQualifier
}
else
{
	ant.properties['context.qualifier'] = buildTimeStamp
}

task(pdeBuild) <<
{
	ant.importBuild 'build.xml'
	buildAll
}

task zipUpdateSite(dependsOn: pdeBuild, type: Zip) {
	from buildDir.name + '/updatesite'
}

artifacts {
	archives (zipUpdateSite) {
		name "updatesite"
	}
}

pdeBuild.dependsOn(":mango-dsl-ui:build")
pdeBuild.dependsOn(":mango-libs:build")
pdeBuild.dependsOn(":mango-dsl:build")
